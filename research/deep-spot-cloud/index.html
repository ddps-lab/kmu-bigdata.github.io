<!DOCTYPE html>
<html lang="en">
  <head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
$(document).ready(
        function(){

        $.ajax({url: "https://j1kg8eg5p9.execute-api.us-east-1.amazonaws.com/deploy", success: function(result){
            // $("#time").text(result['time']);
            // $("#az").text(result['az']);
            // $("#price").text(result['price']);
            // var list = new List();
            // list.add("time");
            // list.add("az");
            // list.add("price");
            // list.add("step");
            // var things = ['time','az','price','step'.'migration'];
            // list.add("migration");
            // $("#step").text(result['step']);
            // var foo = document.createTextNode("\u00A0");
            $.each(result, function(key, value) {

                if (key == "time"){

                  $("#"+key).text(value);
                }
                else if (key == 'az'){
                    $("#"+key).text(value);
                }
                else if (key == 'price'){
                    $("#"+key).text(value);
                }
                else if (key == 'step'){
                  $("#"+key).text(value);
                }
                else if (key == 'migration'){
                  $("#"+key).text(value);
                }
              // if (key in things){
              //   $("#"+key).text(value);
              // }
                else{
                  $("#"+key).text(key+'     ->        '+value);
                }
                // alert( "The key is '" + key + "' and the value is '" + value + "'" );

            });
        }
      ,fail: function(result){
        $("#time").text("error occured");
        $("#az").text("error occured");
        $("#price").text("error occured");
        $("#step").text("error occured");


      }});
    });

</script>



    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>DeepSpotCloud</title>

    <!-- Bootstrap core CSS -->
    <!-- <link href="../../dist/css/bootstrap.min.css" rel="stylesheet"> -->

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="grid.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>





    <div class="container">

      <div class="page-header">
        <h1>DeepSpotCloud Service</h1>
        <p class="lead">DeepSpotCloud provides a way to execute deep learning task in a cost efficient way using GPU spot instances in AWS EC2. It utilizes spot instances across regions (continents) to broaden candidate instances. To preserve intermediate work even when an instance is interrupted due to an outbid event, DeepSpotCloud uses the checkpoint mechanism; an interrupted instance uploads a checkpoint outcome to a shared storage, and a new instance (in a different region/availability zone) resumes after downloading the checkpoint outcome. 
        <br>The goal of this website is to show how DeepSpotCloud operates. It currently runs on an AWS EC2 g2.2xlarge spot instance while executing <a href="https://www.tensorflow.org/tutorials/deep_cnn">CIFAR-10 TensorFlow</a> job. The code can be downloaded from <a href="https://github.com/mjaysonnn/DeepSpotCloud">GitHub</a>.
      </div>

      <h3>Deep Learning Tasks</h3>
      <p>Currently running task</p>
      <div class="row">
          <div class="col-md-4">CIFAR-10 image classification (CNN) <a href="https://www.tensorflow.org/tutorials/deep_cnn">link</a></div>
      </div>

      <h3>Time of last report</h3>
      <div class="row">
        <div class="col-md-4" id="time" >Fetching..</div>
      </div>

      <h3>Current spot price where the job is running</h3>

      <div class="row">
        <div class="col-md-4" id="price">Fetching..</div>
      </div>


      <h3>Current AZ where the job is running</h3>
      <div class="row">
        <div class="col-md-4" id="az">Fetching..</div>
      </div>

      <h3>Current step of the task</h3>
      <p><strong>How many steps</strong> at Deep Learning Task</p>
      <div class="row">
        <div class="col-md-3" id="step">Fetching..</div>
      </div>

      <h3>Migration Route</h3>
      <p>Migration Route</p>
      <div class="row">
        <div class="col-md-3" id="migration">Fetching..</div>
      </div>



      <h3>Current g2.2xlarge spot instance price</h3>
      <div class="row">
        <div class="col-md-4" id="us-east-1a">Not Available</div>
        <div class="col-md-4" id="us-east-1b">Not Available</div>
        <div class="col-md-4" id="us-east-1c">Not Available</div>
        <div class="col-md-4" id="us-east-1d">Not Available</div>
        <div class="col-md-4" id="us-east-1e">Not Available</div>
        <div class="col-md-4" id="us-west-1b">Not Available</div>
        <div class="col-md-4" id="us-west-1c">Not Available</div>
        <div class="col-md-4" id="us-west-2a">Not Available</div>
        <div class="col-md-4" id="us-west-2b">Not Available</div>
        <div class="col-md-4" id="us-west-2c">Not Available</div>
        <div class="col-md-4" id="eu-west-1a">Not Available</div>
        <div class="col-md-4" id="eu-west-1b">Not Available</div>
        <div class="col-md-4" id="eu-west-1c">Not Available</div>
        <div class="col-md-4" id="eu-central-1a">Not Available</div>
        <div class="col-md-4" id="eu-central-1b">Not Available</div>
        <div class="col-md-4" id="ap-northeast-1a">Not Available</div>
        <div class="col-md-4" id="ap-northeast-1c">Not Available</div>
        <div class="col-md-4" id="ap-southeast-1a">Not Available</div>
        <div class="col-md-4" id="ap-southeast-1b">Not Available</div>
        <div class="col-md-4" id="ap-southeast-2a">Not Available</div>
        <div class="col-md-4" id="ap-southeast-2b">Not Available</div>
      </div>


      <!-- <script>
    var link='{"url":"http://mywp.com/cilacap/api/get_posts/", "id":"url_id_01"}';
    var jcontent= JSON.parse(link);
    var output=document.getElementById('output');
    output.innerHTML=jcontent.id + ' ';
      </script>



    <!-- </div> <!-- /container -->


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
  </body>

</html>
